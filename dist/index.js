"use strict";var h=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var v=Object.prototype.hasOwnProperty;var C=(t,e)=>{for(var n in e)h(t,n,{get:e[n],enumerable:!0})},y=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of w(e))!v.call(t,r)&&r!==n&&h(t,r,{get:()=>e[r],enumerable:!(o=b(e,r))||o.enumerable});return t};var A=t=>y(h({},"__esModule",{value:!0}),t);var q={};C(q,{AutoCarousel:()=>u});module.exports=A(q);var x={align:"middle",debug:!1,direction:"left",gap:32,speed:1,stopOnHover:!1},u=class{element;options;container;hover;constructor(e,n={}){this.element=e,this.options=E(n),this.container=O(this),W(this),this.hover=!1,this.initialise()}initialise(){this.element.style.overflowX="hidden",this.element.style.display="flex";let e=s=>{let i=s.offsetWidth,c=window.innerWidth*2,l=Math.ceil(Math.max(0,Math.log2(c/i)));this.debug(`Need to double ${l} time${I(l)} to reach required container width.`),l>0?this.debug("About to begin doubling container size."):this.debug("No need to double container size, it's wide enough."),this.debug(`
                Window inner width: ${window.innerWidth}
                Container offset width: ${s.offsetWidth}
            `);let d=0;for(let m=0;m<l;m++){$(s);let p=s.offsetWidth;if(p<=d)throw new Error("Something went wrong while doubling container elements; the container either stayed the same width or it shrunk somehow.");d=p}};if(e(this.container),window.addEventListener("resize",()=>e(this.container)),this.options.direction==="right"){let s=this.container.offsetWidth/2;this.container.style.marginLeft=`-${s}px`}this.options.stopOnHover&&(this.container.addEventListener("mouseover",()=>{this.hover=!0,this.container.style.willChange="auto"}),this.container.addEventListener("mouseout",()=>{this.hover=!1,this.container.style.willChange="transform"}));let n=0,o,r=g(this),f=r.offsetWidth;function a(s,i){if(i.hover){o=void 0,setTimeout(()=>{requestAnimationFrame(d=>a(d,i))},100);return}let c=T(s,o);o=s;let l=S(i.options.speed,c);if(n+=l,n>=f){n=0;let d=r.cloneNode(!0);i.options.direction==="left"&&i.container.appendChild(d),i.options.direction==="right"&&i.container.prepend(d),i.container.removeChild(r),r=g(i),f=r.offsetWidth}i.options.direction==="left"&&(i.container.style.transform=`translate3d(-${n}px, 0, 0)`),i.options.direction==="right"&&(i.container.style.transform=`translate3d(${n}px, 0, 0)`),requestAnimationFrame(d=>a(d,i))}requestAnimationFrame(s=>a(s,this))}debug(e){if(this.options.debug){let n=e.replace(/\n\s+/g,`
`).trim();console.info(n)}}};function E(t){return{...x,...t}}function O(t){let e=t.element,n=document.createElement("div");for(;e.firstChild;)n.appendChild(e.firstChild);switch(e.appendChild(n),n.style.display="flex",n.style.willChange="transform",t.options.align){case"top":n.style.alignItems="flex-start";break;case"middle":n.style.alignItems="center";break;case"bottom":n.style.alignItems="flex-end";break}return n}function W(t){let e=t.container.children,n=[];for(let o of e)n.push(L(o,t.options));return n}function S(t,e){return t*.05*e}function T(t,e){return t-(e??t)}function $(t){let e=t.children.length;for(let n=0;n<e;n++){let o=t.children[n];if(o===void 0)throw new Error(`A child element within the container was undefined at index ${n}.`);t.appendChild(o.cloneNode(!0))}}function M(t){let e=document.createElement("div");return t.parentNode?.insertBefore(e,t),e.appendChild(t),e}function L(t,e){let n=M(t);return n.style.minWidth="max-content",n.style.paddingRight=`${e.gap}px`,n}function H(t){let e=t.options.direction;switch(e){case"left":return 0;case"right":return t.container.children.length-1;default:throw new Error(`Invalid direction in options "${e}".`)}}function g(t){let e=H(t),n=t.container.children[e];if(n===void 0)throw new Error(`Expected to find a slide to remove at index ${e}, however none was found.`);return n}function I(t){return t===1?"":"s"}0&&(module.exports={AutoCarousel});
